<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="TemplateMo">

    <title>San Jose Automation</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css')}}">

    <style>
      /* Flash Message Popup Styles */
      .flash-popup {
          position: fixed;
          top: 20px;
          right: 20px;
          padding: 10px 20px;
          border-radius: 5px;
          font-size: 14px;
          z-index: 10000;
          display: none;
          animation: fadeInOut 4s ease-in-out;
      }
      .error { background-color:rgb(255, 0, 21); color:rgb(255, 255, 255); border: 1px rgb(255, 0, 0); }
      .success { background-color:rgb(0, 255, 60); color:rgb(255, 255, 255); border: 1px rgb(0, 255, 17); }

      @keyframes fadeInOut {
          0% { opacity: 0; transform: translateY(-10px); }
          10% { opacity: 1; transform: translateY(0); }
          90% { opacity: 1; }
          100% { opacity: 0; transform: translateY(-10px); }
      }
    </style>
    
    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='assets/css/all.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='assets/css/main.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='assets/css/owl.css')}}">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='assets/css/intlTelInput.css')}}">
    <!--<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css">-->

  </head>

  <body>

    <!-- Flash Messages as Popups -->
    <div id="flash-container">
      {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
              {% for category, message in messages %}
                  <div class="flash-popup {{ category }}">{{ message }}</div>
              {% endfor %}
          {% endif %}
      {% endwith %}
    </div>

    <!-- Header -->
    <header class="">
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <a class="navbar-brand" href="/">
          <img src="{{url_for('static', filename='assets/images/logo.png')}}" class="d-inline-block align-text-top img-fluid" alt="San Jose Automation Logo">
          San Jose Automation
       </a>       
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">             
              <li class="nav-item">
                 <a class="nav-link" href="#contactus">Contact Us</a>
              </li>
           </ul>           
          </div>
      </nav>
    </header>

    <!-- Page Content -->
    <!-- Banner Starts Here -->
    <div class="main-banner header-text" id="top">
      <div class="Modern-Slider">
        <div class="item item-1">
          <div class="img-fill"></div>
          <div class="text-content">
            <h6>Efficiency, Traceability, and Speed All in One Platform</h6>
            <p>San Jose Automation unifies ERP, MES, procurement, supply chain and quality into one intelligent ecosystem. By integrating procurement directly into MES, manufacturers can streamline supplier collaboration, ensure just-in-time material availability, and optimize costsâ€”all while maintaining full visibility from raw materials to finished goods. The result is faster production cycles, end-to-end traceability, and a shorter path to market.</p>
            <a href="#contactus" class="filled-button">Contact us</a>
          </div>
        </div>
      </div>
    </div>
    <!-- Banner Ends Here -->


    <!--Contact Information-->
    <div class="contact" id="contactus" style="width: 100%;">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-heading">
              <h2>Contact Us</em></h2>
              <span>Feel free to contact us now!</span>
            </div>
          </div>
        </div>
        <div class="contact-information">
          <div class="container">
            <div class="row">
              <div class="col-md-4">
                <div class="contact-item">
                  <i class="fa fa-phone"></i>
                  <h4 style="color: black;">Phone</h4>
                  <p>Call and get solution of your problem</p>
                  <a href="#">+1 (669) 243-7645</a>
                </div>
              </div>
              <div class="col-md-4">
                <div class="contact-item">
                  <i class="fa fa-envelope"></i>
                  <h4 style="color: black;">Email</h4>
                  <p>Mail your queries!</p>
                  <a href="mailto:info@sanjoseautomation.com?subject=Hello%20there&body=This%20is%20the%20email%20body.">info@sanjoseautomation.com</a>
                </div>
              </div>
              <div class="col-md-4">
                <div class="contact-item">
                  <i class="fa fa-map-marker"></i>
                  <h4 style="color: black;">Location</h4>
                  <p>We work in multiple loactions</p>
                  <a href="#">View on Google Maps</a>
                  <br>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--Inquiry form -->
    <div class="callback-form" id="Inquiry">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="section-heading">
              <h2>Reach Out to Us</h2>
              <span>Fill the form and we will contact you back!</span>
            </div>
          </div>
          <div class="col-md-12">
            <div class="contact-form">
              <form class="needs-validation" id="contact" action="/" method="POST" novalidate>
              <div class="row g-3">
                <div class="col-lg-6 col-md-12">
                  <input name="name" type="text" class="form-control" id="name"
                    pattern="^(?!.*(http|www|\.com|\.net|\.org)).{1,50}$"
                    value="{{ form_data.get('name', '') }}" placeholder="Full Name" required>
                  <small id="name-error" class="field-error text-danger" style="display:none;">Please enter a valid name (only letters, max 50).</small>
                </div>

                <div class="col-lg-6 col-md-12">
                  <input name="email" type="text" class="form-control" id="email"
                    placeholder="E-Mail Address" value="{{ form_data.get('email', '') }}" required>
                  <small id="email-error" class="field-error text-danger" style="display:none;">Please enter a valid email address.</small>
                </div>

                <div class="col-lg-6 col-md-12">
                  <input name="phone" type="tel" class="form-control" id="phone"
                    placeholder="Phone Number" value="{{ form_data.get('phone', '') }}" required>
                  <small id="phone-error" class="field-error text-danger" style="display:none;">Please enter a valid phone number with country code.</small>
                </div>

                <div class="col-lg-6 col-md-12">
                  <input name="company" type="text" class="form-control" id="company"
                    pattern="^(?!.*(http|www|\.com|\.net|\.org)).{1,50}$"
                    value="{{ form_data.get('company', '') }}" placeholder="Company Name" required>
                  <small id="company-error" class="field-error text-danger" style="display:none;">Please enter a valid company name (max 50 chars).</small>
                </div>

                <div class="col-lg-6 col-md-12">
                  <select name="industrytype" id="industrytype" class="form-select" required>
                    <option value="" disabled selected>Select Industry type</option>
                      <option value="Agriculture">Agriculture</option>
                      <option value="Automotive">Automotive</option>
                      <option value="Aviation">Aviation</option>
                      <option value="Banking and Finance">Banking and Finance</option>
                      <option value="Construction">Construction</option>
                      <option value="Education">Education</option>
                      <option value="Energy and Utilities">Energy and Utilities</option>
                      <option value="Entertainment">Entertainment</option>
                      <option value="Healthcare">Healthcare</option>
                      <option value="Hospitality">Hospitality</option>
                      <option value="IT and Technology">IT and Technology</option>
                      <option value="Manufacturing">Manufacturing</option>
                      <option value="Marketing and Advertising">Marketing and Advertising</option>
                      <option value="Media and Publishing">Media and Publishing</option>
                      <option value="Non-Profit">Non-Profit</option>
                      <option value="Real Estate">Real Estate</option>
                      <option value="Retail">Retail</option>
                      <option value="Telecommunications">Telecommunications</option>
                      <option value="Transportation and Logistics">Transportation and Logistics</option>
                      <option value="Travel and Tourism">Travel and Tourism</option>
                      <option value="custom">Others</option>
                  </select>
                  <small id="industrytype-error" class="field-error text-danger" style="display:none;">Please select an industry type.</small>
                </div>

                <div class="col-lg-6 col-md-12">
                  <input name="title" type="text" class="form-control" id="title"
                    pattern="^(?!.*(http|www|\.com|\.net|\.org)).{1,50}$"
                    value="{{ form_data.get('title', '') }}" placeholder="Title" required>
                  <small id="title-error" class="field-error text-danger" style="display:none;">Please enter a valid title (max 50 chars).</small>
                </div>

                <div class="col-12">
                  <textarea class="form-control" name="req" rows="6" id="req" placeholder="Your requirements" required>{{ form_data.get('req', '') }}</textarea>
                  <small id="req-error" class="field-error text-danger" style="display:none;">Please enter your requirements (min 5 characters).</small>
                </div>

                <div class="col-12 d-flex flex-column align-items-center">
                  <div class="g-recaptcha" data-sitekey="6LevP-EqAAAAAOmuFcMpkJDFhpesq_VFIME6tIBs" data-callback="recaptchaCallback"></div>
                  <small id="captcha-error" class="field-error text-danger" style="display:none;">Please complete the CAPTCHA to enable submission.</small>
                </div>
                <br>
                <div class="col-12 text-center">
                  <br>
                  <button type="submit" id="form-submit" class="border-button" disabled>Submit</button>
                </div>
              </div>
            </form>           
            </div>
          </div>
        </div>
      </div>
    </div>
    <br>
    <br>
    <!-- Footer Starts Here -->
    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row gy-4">
          <div class="col-md-6">
            <h5>San Jose Automation</h5>
          </div>
          <div class="col-md-6">
            <h5>Additional Pages</h5>
            <ul class="list-unstyled">
              <li><a href="#contactus" class="link-light">Contact Us</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="sub-footer mt-4">
        <div class="container text-center">
          <div class="row">
            <div class="col-12">
              <p class="mb-0">Copyright &copy; San Jose Automation Co., Ltd.</p>
            </div>
          </div>
        </div>
      </div>
    </footer>
    
    <!--
    <div class="sub-footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <p>Copyright &copy; San Jose Automation Co., Ltd.</div>
        </div>
      </div>
    </div>-->

    <!-- Required scripts -->
  <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Additional Plugins / Scripts (keep originals) -->
  <script src="{{ url_for('static', filename='assets/js/jquery.singlePageNav.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/custom.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/owl.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/slick.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/accordions.js') }}"></script>

  <!-- intl-tel-input (phone) -->
  <script src="{{ url_for('static', filename='assets/js/intlTelInput.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/utils.js') }}"></script>

  <!-- Google reCAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <script>
    // Navbar background change on scroll (Bootstrap 5)
    (function () {
      const nav = document.getElementById('mainNav');
      function scrolled() {
        if (window.scrollY > 10) nav.classList.add('navbar-scrolled'); else nav.classList.remove('navbar-scrolled');
      }
      document.addEventListener('scroll', scrolled, { passive: true });
      scrolled();
    })();

    // Flash popups show & auto-hide
    (function () {
      const flashMessages = document.querySelectorAll('.flash-popup');
      flashMessages.forEach(msg => {
        msg.style.display = 'block';
        setTimeout(() => { msg.style.display = 'none'; }, 4000);
      });
    })();
  </script>

  <!-- Consolidated form validation + intl-tel-input + reCAPTCHA (adapted - logic preserved) -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('contact');
      if (!form) return;
      const submitButton = document.getElementById('form-submit');
      if (submitButton) submitButton.disabled = true;

      const fields = {
        name: document.getElementById('name'),
        email: document.getElementById('email'),
        phone: document.getElementById('phone'),
        company: document.getElementById('company'),
        industrytype: document.getElementById('industrytype'),
        title: document.getElementById('title'),
        req: document.getElementById('req')
      };

      function fieldErrorEl(id) { return document.getElementById(id + '-error'); }

      const patterns = {
        name: /^(?!.*(http|www|\.com|\.net|\.org))^[A-Za-z\s]{1,50}$/,
        email: /^[^@\s]+@[^@\s]+\.[^@\s]+$/,
        company: /^(?!.*(http|www|\.com|\.net|\.org))^[A-Za-z0-9\s\.\-&,_]{1,50}$/,
        title: /^(?!.*(http|www|\.com|\.net|\.org)).{1,50}$/,
        req: /^(?!.*(http|www|\.com|\.net|\.org)).{5,}$/
      };

      let phoneIntl = null;
      if (window.intlTelInput && fields.phone) {
        try {
          phoneIntl = window.intlTelInput(fields.phone, {
            initialCountry: 'us',
            utilsScript: "{{ url_for('static', filename='assets/js/utils.js') }}"
          });
        } catch (e) {
          console.warn('intlTelInput init failed:', e);
        }
      }

      function showFieldError(id, message) {
        const err = fieldErrorEl(id);
        if (err) { err.textContent = message; err.style.display = 'block'; }
        const el = fields[id]; if (el) { el.classList.add('is-invalid'); el.classList.remove('is-valid'); }
      }
      function clearFieldError(id) {
        const err = fieldErrorEl(id); if (err) err.style.display = 'none';
        const el = fields[id]; if (el) { el.classList.remove('is-invalid'); el.classList.add('is-valid'); }
      }

      function validateField(id) {
        const el = fields[id]; if (!el) return true;
        const val = el.value.trim();
        if (id === 'phone') {
          if (!phoneIntl) { showFieldError('phone', 'Phone validation not available.'); return false; }
          if (!phoneIntl.isValidNumber()) { showFieldError('phone', 'Please enter a valid phone number (include country code).'); return false; }
          clearFieldError('phone'); return true;
        }
        if (id === 'industrytype') {
          if (!val) { showFieldError('industrytype', 'Please select an industry type.'); return false; }
          clearFieldError('industrytype'); return true;
        }
        const pat = patterns[id];
        if (pat) {
          if (!pat.test(val)) {
            const defaultMsgs = {
              name: 'Enter valid name (letters only, max 50).',
              email: 'Enter a valid email address.',
              company: 'Enter a valid company name (max 50).',
              title: 'Enter a valid title (max 50).',
              req: 'Enter requirements (min 5 characters).'
            };
            showFieldError(id, defaultMsgs[id] || 'Invalid value.');
            return false;
          }
        } else {
          if (el.hasAttribute('required') && val.length === 0) { showFieldError(id, 'This field is required.'); return false; }
        }
        clearFieldError(id); return true;
      }

      function debounce(fn, delay) { let t; return function () { clearTimeout(t); t = setTimeout(() => fn.apply(this, arguments), delay); }; }

      function validateAllAndToggleSubmit() {
        const fieldIds = Object.keys(fields);
        const allFieldsValid = fieldIds.every(id => validateField(id));
        const captchaOk = (typeof grecaptcha !== 'undefined' && grecaptcha.getResponse && grecaptcha.getResponse().length > 0);
        if (submitButton) submitButton.disabled = !(allFieldsValid && captchaOk);
        const ce = document.getElementById('captcha-error'); if (ce) ce.style.display = captchaOk ? 'none' : (captchaOk === false && !allFieldsValid ? ce.style.display : ce.style.display);
        return allFieldsValid && captchaOk;
      }

      Object.keys(fields).forEach(id => {
        const el = fields[id]; if (!el) return; const handler = debounce(() => { validateField(id); validateAllAndToggleSubmit(); }, 350);
        const evt = (el.tagName.toLowerCase() === 'select') ? 'change' : 'input'; el.addEventListener(evt, handler);
      });

      window.recaptchaCallback = function () { validateAllAndToggleSubmit(); const ce = document.getElementById('captcha-error'); if (ce) ce.style.display = (grecaptcha.getResponse().length > 0) ? 'none' : 'block'; };

      form.addEventListener('submit', function (e) {
        let ok = true; Object.keys(fields).forEach(id => { if (!validateField(id)) ok = false; });
        const captchaOk = (typeof grecaptcha !== 'undefined' && grecaptcha.getResponse && grecaptcha.getResponse().length > 0);
        if (!captchaOk) { ok = false; const ce = document.getElementById('captcha-error'); if (ce) ce.style.display = 'block'; }
        if (!ok) { e.preventDefault(); const firstInvalid = form.querySelector('.is-invalid'); if (firstInvalid) firstInvalid.focus(); return; }
        if (phoneIntl && phoneIntl.isValidNumber()) { fields.phone.value = phoneIntl.getNumber(); } else if (fields.phone) { e.preventDefault(); showFieldError('phone', 'Please enter a valid phone number.'); fields.phone.focus(); return; }
      });

      setTimeout(validateAllAndToggleSubmit, 200);
    });
  </script>




  </body>
</html>